{
  "id": "156c94fb-1bb6-4963-8b81-ca9517497dcc",
  "prefix": "otomasyonproblemsoruncozum1",
  "description": "",
  "body": "\t-- sorun  makinada port değişimi yapılırken  planların isno sunun durumu = 1 iken port değişimi yapılması. \n\t--gelen nmailin tarihi ve konusu   Ertan Naimoglu <ertan.naimoglu@cantekstil.com.tr>\n\n--\tMerhaba Tolga Bey,\n\n--Loom monitörde \"212\" nolu makina 04.04.2019 itibarıyla bağlantı hatası verdi.\n--Elektronik bölümünün kontrolü ile sorunun mevcut portta olduğu belirtildi. Ve tarafımızdan port değişikliği işlemi yapılarak Phantom portları güncellendi.\n--COM5 soket No:29 >> COM5 soket No:34\n\n--Fakat hala \"212\" nolu tezgahtan veri akışı sağlanamadı.\n--Nasıl bir yol izlemeliyiz? Yardımıcı olabilir misiniz?\n--İyi çalışmalar.\n\n--Ertan Naimoğlu\n--Bilgi İşlem Teknikeri\n--Can Tekstil Ent.Tes.ve Tar.Ür.San.Tic.A.Ş.\n\n\t\n\t--countermaster a kayıt geliyor mu kontrol ettt\n\t--kontrol et neden counter master'a neden insert olmamış. \n\t\t\n\t\tInsert CounterMaster (Zaman, Tezgah, Cause, Counter, State, RawCounter) --Values (GETDATE(), 0, 0, 0, 0, 0)\n\t\tSelect  CH.Zaman, CH.Tezgah, CH.Cause, CH.Counter, CH.State,CH.RawCounter \n\t\tFROM  PHANTOM.dbo.CounterHistory CH\n\t\tWhere  CH.Tezgah = 73 and CounterID =30430428  Order By CH.Zaman Desc\n\t\n\t---- aşağıdan bak ilgili port no ve makinada durumu = 1 olan isno kalmış mı kaldı ise hepsini bitir. \n\n------------------------------------------------------------\t\n Select * From IT90_UretimIsNo UIN Where IsNO = 20637\n\n select * From  IT90_UretimIsNo Where IsNO = 20597\n\n\n Select ITTexPlanMakinaID,ITTexIsNo, ITTexISNo, * From IT90_UretimIsNO Where TezgahID = 30 And Durum = 1\n\n Exec SP99_LMEntegre_PlanBitir @IsNo = 26665\n Exec SP99_LMEntegre_PlanBitir @IsNo = 27359\n \n\n Select Durumu,IsID,* From IT07_GerISNo Where MakinaID = 30 And Durumu = 1\n\n SELECT PM.Miktar_Mt,PM.UrtMt,* FROM  IT05_PlanMakina PM\n INNER JOIN  IT05_PlanMakina_Dokuma PMD On PMD.PlanMakinaID = PM.PlanMakinaID\n Where PM.PlanMakinaID IN\n(\n24686,\n23908\n) And PM.IsNoZamanDurum = 1\n---------------------------------------\n\n\n\n\n\t\tSELECT  Top 10000 *  FROM  CounterMaster   CM  Where CM.Tezgah  =30 Order By zaman Desc\n\n\t\tSELECT top 10000 M.MakinaNo,CMOP.Connected,M.IsOtomasyon,CMOP.port,CMOP.port %39 ,  * FROM  CounterMaster CM \n\t\tInner JOIN   CT99_MakinaOtomasyonParametreleri CMOP On  CMOP.Port = CM.Tezgah \n\t\tINNER JOIN  IT01_Makinalar M On M.MakinaID = CMOP.MakinaID\n\t\tWhere CMOP.MakinaID = 30\n\t\tOrder By CM.Zaman desc\n\n\t\tSelect * From IT99_TezgahBilgileri TB \n\n\t\tSELECT TB.TezgahID,M.MakinaNo,TS.Name, TB.*  FROM  IT99_TezgahBilgileri TB INNER JOIN  IT99_TezgahStates TS On TS.State = TB.State INNER JOIN  IT01_Makinalar M On M.MakinaID = TB.TezgahID Where M.MakinaID = 30\n\n\t\tSELECT * FROM  IT99_TezgahStates TS\n\n\t\tSelect port As countertezgah, port %39 As phantomportno, CONVERT(int,port/39 ) + 1 As Controller, * From  IT99_MakineOtomasyonParametreleri MOP Where MOP.MakinaID  =30 Order By MOP.Port\n\n\t\tSELECT * FROM IT01_Makinalar M Where M.MakinaNo Like 'D%'\n\n\t\n--\tvardiyasını kontrol et vardiyası eski kaldıysa diğer makinalarına göre vardiyayı değiştir. \n\n\t\tINSERT Countermaster (Zaman, Tezgah, Cause, Counter, State) \n\t\tSelect TOP 1 getdate(), CM.tezgah, 254, counter, State\n\t\tfrom Countermaster CM\n\t\t\tInner Join IT99_MakineOtomasyonParametreleri MOP On MOP.Port = CM.Tezgah \n\t\t\t\tInner Join IT01_Makinalar M On M.MakinaID = MOP.MakinaID\n\t\tWhere M.MakinaID = 30  --Tezgah=73   --MOP.Port 'a denk geliyor makina otomasyon parametrelerindeki\n\t\tOrder By CM.Zaman Desc --makina bazında vardiya degisimi Cause = 254\n\n\t\tSelect 1\n\n\n\t\tSelect Top 10  * From IT99_VArdiyaSayacBilgileri Where  TezgahID = 30 Order By 1 Desc \n"
}