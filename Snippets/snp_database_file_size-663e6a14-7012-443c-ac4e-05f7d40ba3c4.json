{
  "id": "663e6a14-7012-443c-ac4e-05f7d40ba3c4",
  "prefix": "snp_database_file_size",
  "description": "",
  "body": "USE master\nGO\n\nSELECT\n    DatabaseName = d.name, DBFileName = f.name, f.type_desc, DBFileLocation = f.physical_name,\n    DBFileSize_MB = CAST(f.size AS DECIMAL(38, 2)) / 128,\n    EffectiveRecoveryModel = CASE\n                                 WHEN d.recovery_model = 1 AND r.last_log_backup_lsn IS NULL THEN 'Pseudo-Full'\n                                 ELSE d.recovery_model_desc\n                             END, r.last_log_backup_lsn\nFROM sys.databases d\nJOIN sys.master_files f ON d.database_id = f.database_id\nJOIN sys.database_recovery_status r ON d.database_id = r.database_id\n--WHERE d.name = 'PHANTOM'\nORDER BY d.name, f.type, f.name;\nGO"
}