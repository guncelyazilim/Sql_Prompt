{
  "id": "aba16c87-8fe5-481b-88e9-5a2ed2763bc7",
  "prefix": "snp_AktifKullanicilar",
  "description": "",
  "body": "Alter View PV15_LeoActiveSessionDetails\r\nAs\r\nSelect  p.spid, 1 RowID, p.program_name, p.hostname, K.KullaniciKodu, K.WinUserName, K.IsRemote,\r\n        Case When p.program_name = 'Leo Textile®' Or   p.program_name = 'Leo Textile' Then 1 Else 0 End IsLeoTextile,\r\n        Case When p.program_name = 'Leo Quality Control' Then 1 Else 0 End IsQC, Case When p.program_name = 'Leo Plant Pulse' Then 1 Else 0 End IsPulse,\r\n        Case When p.program_name Not In ('Leo Plant Pulse', 'Leo Quality Control', 'Leo Textile®', 'Leo Textile') Then 1 Else 0 End IsOther,\r\n        Case When R.IsSysRol = 1 And   (p.program_name = 'Leo Textile®' Or p.program_name = 'Leo Textile') Then 1 Else 0 End IsLeoAdmin,\r\n        LoginHistory.ITVersion, LoginHistory.ITGirisZaman, LoginHistory.ITCikisZaman, s.name VeritabaniAdi, a.local_net_address, a.local_tcp_port\r\nFrom    sys.sysprocesses p\r\n        Left Outer Join IT15_KullaniciConn K On K.ITSPID = p.spid\r\n        Left Outer Join IT15_Kullanicilar KK On KK.KullaniciKodu = K.KullaniciKodu\r\n        Left Outer Join IT15_Roller R On R.RolID = KK.RolID\r\n        Left Outer Join sys.sysdatabases s On s.dbid = p.dbid\r\n        Outer Apply (Select Top 1  LH.ITVersion, LH.ITGirisZaman, LH.ITCikisZaman From IT15_LoginHistory LH Where  LH.ITKullaniciID = KK.KullaniciID Order By  LH.ITLoginHistoryID Desc) LoginHistory\r\n        Left Outer Join sys.dm_exec_connections a On a.session_id = p.spid\r\nWhere   p.program_name Like 'leo%' And  p.program_name <> 'Leo_Man.exe'\r\nGo"
}