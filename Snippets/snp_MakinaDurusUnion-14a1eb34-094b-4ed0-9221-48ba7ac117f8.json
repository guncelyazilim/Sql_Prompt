{
  "id": "14a1eb34-094b-4ed0-9221-48ba7ac117f8",
  "prefix": "snp_MakinaDurusUnion",
  "description": "",
  "body": "Set Quoted_Identifier On\r\nSet Ansi_Nulls On\r\nGo\r\nAlter View dbo.PV07_MakinaDuruslari\r\nAs\r\nSelect  MD.MakinaDurusID, MD.MakinaID, M.MakinaAdi, MD.DurusNedenID, MDN.DurusNedenAdi, MD.BaslangicZaman, MD.BasPersonelID, MD.BitisZaman, MD.BitPersonelID,\r\n        dbo.F05_BitimSureText(99, ISNULL(MD.BaslangicZaman, GETDATE()), ISNULL(M.BitisZaman, GETDATE()), 0) DurusSure,\r\n        dbo.F99_GetSureWithHM(DATEDIFF(Second, MD.BaslangicZaman, ISNULL(MD.BitisZaman, GETDATE()))) FarkSure,\r\n        DATEDIFF(Minute, MD.BaslangicZaman, ISNULL(MD.BitisZaman, GETDATE())) DurusSureDakika,\r\n        CONVERT(Float, (ISNULL(MD.BitisZaman, GETDATE()) - MD.BaslangicZaman)) * 24 DurusSureSaat, P.PersonelAdi BaslatanPersonelAdi,\r\n        P2.PersonelAdi BitirenPersonelAdi, PRD.IsEmriNo\r\nFrom    IT07_MakinaDuruslari MD\r\n        Left Outer Join IT01_MakinaDurusNedenleri MDN On MDN.DurusNedenID = MD.DurusNedenID\r\n        Left Outer Join IT01_Makinalar M On M.MakinaID = MD.MakinaID\r\n        Left Outer Join IT01_Personel P On P.PersonelID = MD.BasPersonelID\r\n        Left Outer Join IT01_Personel P2 On P2.PersonelID = MD.BitPersonelID\r\n        Left Outer Join IT07_GerIsNo GIN On GIN.IsNo = MD.IsNo\r\n        Left Outer Join IT05_PartiRotaD PRD On PRD.PlanID = GIN.PlanID\r\nUnion\r\nSelect  PCS.PulseCikanStateID MakinaDurusID, PCS.MakinaID, M.MakinaAdi, PCS.PulseStateID DurusNedenID, PS.PulseStateName DurusNedenAdi,\r\n        PCS.BasZaman BaslangicZaman, PCS.PersonelID BasPersonelID, PCS.BitZaman BitisZaman, Null BitPersonelID,\r\n        dbo.F05_BitimSureText(99, ISNULL(PCS.BasZaman, GETDATE()), ISNULL(PCS.BitZaman, GETDATE()), 0) DurusSure,\r\n        dbo.F99_GetSureWithHM(DATEDIFF(Second, PCS.BasZaman, ISNULL(PCS.BitZaman, GETDATE()))) FarkSure,\r\n        DATEDIFF(Minute, PCS.BasZaman, ISNULL(PCS.BitZaman, GETDATE())) DurusSureDakika,\r\n        CONVERT(Float, (ISNULL(PCS.BitZaman, GETDATE()) - PCS.BasZaman)) * 24 DurusSureSaat, P.PersonelAdi BaslatanPersonelAdi,\r\n        P.PersonelAdi BitirenPersonelAdi, GCM.IsEmriNo\r\nFrom    IT60_PulseCikanState PCS\r\n        Left Outer Join IT01_Makinalar M On M.MakinaID = PCS.MakinaID\r\n        Left Outer Join IT60_PulseState PS On PS.PulseStateID = PCS.PulseStateID\r\n        Left Outer Join IT01_Personel P On P.PersonelID = PCS.PersonelID\r\n        --        Left Outer Join IT01_Personel P2 On P2.PersonelID = MD.BitPersonelID\r\n        Left Outer Join IT60_PulseCikan PC On PC.PulseCikanID = PCS.PulseCikanID\r\n        Left Outer Join IT07_GerCikanMalzeme GCM On GCM.CikanID = PC.CikanID\r\nGo\r\n\r\n\r\n\r\n"
}