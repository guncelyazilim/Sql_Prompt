{
  "id": "b2fe84b5-df22-4f0a-8796-7dd47a147069",
  "prefix": "snp_Nesne_Nerede_Kullanilmis_Dependencies",
  "description": "",
  "body": "Declare @ITObjectName Varchar(100), @ITObjectID int\n\nSet @ITObjectID = Null \n\nIf @ITObjectID Is Null Begin\n\tSet @ITObjectName = '$CURSOR$'\n\tSet @ITObjectID = (Select   OM.ITObjectID From  IT15_ObjectsM OM Where  OM.ITObjectName = @ITObjectName)\nEnd\n\nIf @ITObjectID Is Null Begin Raiserror('Böyle bir nesne yok',16,1) Return end\n\nSELECT 'SQL Dependencies', referencing_entity_name\nFROM sys.dm_sql_referencing_entities(@ITObjectName, 'Object')\nUnion\nSELECT 'SQL Dependencies', referencing_entity_name\nFROM sys.dm_sql_referencing_entities('dbo.'+@ITObjectName, 'Object')\n\n\nSelect  'Ekran' TUR, S.ScreenID, S.ScreenCaption, S.ITObjectID, S.ITObjectID2\nFrom    IT15_Screens S\nWhere   S.ITObjectID = @ITObjectID Or   S.ITObjectID2 = @ITObjectID\n\nSelect  'Veri İşlemi' TUR, OM.ITObjectName, OVI.VeriIslemAdi, OVI.SPITObjectID, OVI.DSITObjectID, OVI.DSITObjectID2\nFrom    IT15_ObjectsVeriIslemleri OVI\n        Inner Join IT15_ObjectsM OM On OM.ITObjectID = OVI.ITObjectID\nWhere   OVI.SPITObjectID = @ITObjectID Or   OVI.DSITObjectID = @ITObjectID Or   OVI.DSITObjectID2 = @ITObjectID\n\nSelect  'LOOKUP DATASET', OM.ITObjectName, OD.FieldName, OD.FieldCaption, OD.LDataSet\nFrom    IT15_ObjectsD OD\n        Inner Join IT15_ObjectsM OM On OM.ITObjectID = OD.ITObjectID\nWhere   OD.LDataSet = @ITObjectName\n\nSelect  'SEÇİM AFTER/BEF SP', OM.ITObjectName, OD.FieldName, OD.ITSPSecim, OD.ITSPSecimAfter\nFrom    IT15_ObjectsD OD\n        Inner Join IT15_ObjectsM OM On OM.ITObjectID = OD.ITObjectID\nWhere   OD.ITSPSecimAfter = @ITObjectName Or OD.ITSPSecim = @ITObjectName\nSelect  'BEF SP', OM.ITObjectName, OM.ITObjectAlias From IT15_ObjectsM OM Where OM.BefITObjectID = @ITObjectID"
}